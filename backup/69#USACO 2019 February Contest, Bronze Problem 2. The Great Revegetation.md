# USACO 2019 February Contest, Bronze Problem 2. The Great Revegetation

http://www.usaco.org/index.php?page=viewproblem2&cpid=916
长时间的干旱使得Farmer John的N块草地上牧草匮乏。随着雨季即将到来，现在应当是重新种植的时候了。在Farmer John的储物棚里有四个桶，每个桶里装着一种不同的草种。他想要在每块草地上播种其中一种草。作为一名奶农，Farmer John想要确保他的每头奶牛都能得到丰富的食谱。他的M头奶牛每一头都有两块喜爱的草地，他想要确保这两块草地种植不同种类的草，从而每头奶牛都可以有两种草可供选择。Farmer John知道没有一块草地受到多于3头奶牛的喜爱。

请帮助Farmer John选择每块草地所种的草的种类，使得所有奶牛的营养需求都得到满足。

输入格式（文件名：revegetate.in）：
输入的第一行包含N（2≤N≤100）和M（1≤M≤150）。以下M行，每行包含两个范围为1…N的整数，为Farmer John的一头奶牛喜欢的两块草地。
输出格式（文件名：revegetate.out）：
输出一个N位数，每一位均为1…4之一，表示每一块草地上所种的草的种类。第一位对应草地1的草的种类，第二位对应草地2，以此类推。如果有多种可行的解，只需输出所有解中最小的N位数。
####解释和代码
这段代码是为了解决农场重种植草地的问题，确保每头奶牛都能从它们各自喜欢的两块草地中获取不同种类的草。给定农场上的草地数 `N` 和奶牛数 `M`，以及每头奶牛喜欢的两块草地的编号，代码的目标是为每块草地分配一种草种，满足所有奶牛的营养需求。以下是代码的解释和注释：

```cpp
#include<bits/stdc++.h>
using namespace std;

int main() {
    int n, m; // n是草地数量，m是奶牛数量
    cin >> n >> m; // 读取n和m
    int a[151], b[151], G[101]; // a和b存储每对奶牛喜爱的草地，G存储每块草地的草种
    // 读取奶牛喜爱的草地对，并保证a[i] < b[i]
    for(int i = 0; i < m; i++) {
        cin >> a[i] >> b[i];
        if(a[i] > b[i]) swap(a[i], b[i]);
    }
    // 遍历每块草地，为其分配草种
    for(int i = 1; i <= n; i++) {
        int g; // 草种编号
        // 尝试为当前草地分配草种，直到找到满足条件的草种
        for(g = 1; g <= 4; g++) {
            bool ok = true;
            // 检查是否有与当前草种冲突的奶牛喜好
            for(int j = 0; j < m; j++) {
                // 如果当前草地是某头奶牛喜爱的草地之一，并且另一块草地已分配了相同的草种
                if(b[j] == i && G[a[j]] == g) ok = false;
            }
            if(ok) break; // 如果找到了合适的草种，跳出循环
        }
        G[i] = g; // 为当前草地分配草种
        cout << g; // 输出当前草地的草种编号
    }
    return 0;
}
```

这段代码通过遍历每块草地，并尝试为其分配一种草种（编号为 1 到 4），来找出满足所有奶牛喜好的草种分配方案。对于每块草地，代码会检查所有奶牛的喜好，确保没有任何一头奶牛的两块喜爱的草地种植了相同种类的草。如果当前尝试的草种会导致冲突，则尝试下一种草种，直到找到满足条件的草种为止。

输出的是一个 `N` 位数，每一位表示对应草地上所种植的草的种类编号。根据题目要求，如果存在多种可行的解，代码只需输出所有解中最小的 `N` 位数，这通过从草种编号 1 开始尝试，并按照编号递增的顺序检查每种草种，自然实现了这一点。

---

* Link: https://github.com/justonehe/Algorithm/issues/69
* Labels: `usaco`, `图论`
* Creation Date: 2024-02-06T09:15:53Z
